<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport"
        content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,shrink-to-fit=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="author" content="李金磊" >

  <title>模拟 Ios 8 上面呼出 Siri 时的波形动画</title>

  <link rel="stylesheet" href="/stylesheets/styles.css">
</head>
<body>
<div class="wrapper">
  <script type="text/javascript" src="/bin/gren.js"></script>
  <style>
    #Container {
        position: absolute;
        top: 0px;
        left: 50%;
        -webkit-transform: translate(-50%, 0);
        transform: translate(-50%, 0);
        background-color: #353535;
        display: block;
        width:100vw;
        max-width:600px;
        height: 100vh;
        min-height: 300px;
    }
</style>
<div id="Container" >
    <div style="color: #efefef; font-size: 18px; padding: 25px;position:absolute;">
        <p>绘制这个波形动画的主要步骤:</p>
        <p>- 计算出呈正态分布的波的振幅数组及波长数组;</p>
        <p>- 定义一个步增的波形起始角度;</p>
        <p>- 每一帧遍历 x 轴上的顶点,基于第一步计算的振幅及波长更新顶点 y 坐标;</p>
    </div>
</div>
<script type="text/javascript" src="/bin/effects.js"></script>
<script type="text/javascript">
    var workerPath = '/bin/effects_webworker.js';
    var container = document.getElementById('Container');
    var wave = new EFFECT.PSSoundWave(container.offsetWidth, container.offsetHeight, workerPath);
    container.appendChild(wave.domElement);
</script>

</div>

</body>
</html>
