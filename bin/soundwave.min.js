!function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var r=i(1);window.PSSoundWave=r.PSSoundWave},function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PSSoundWave=void 0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),s=function v(t,e,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:v(n,e,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},h=i(2),u=i(4),c=i(5),l=i(6),f=i(7);e.PSSoundWave=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?300:arguments[0],i=arguments.length<=1||void 0===arguments[1]?100:arguments[1];r(this,e);var a=n(this,Object.getPrototypeOf(e).call(this));a.renderer=new h.WebGLRenderer,a.renderer.setStyle(t,i,"margin:0px; position:absolute; z-index:0;"),a.gl=a.renderer.gl,a.domElement=a.renderer.canvas,a.mvMatrix=c.Matrix4.identity(),a.pMatrix=c.Matrix4.orthogonal(0,a.renderer.canvasWidth,0,a.renderer.canvasHeight,-5e3,5e3),a._initProgram(),a.waves=[];for(var o=0;10>o;o++){var s=new f.Wave(a.gl,a.prg,a.renderer.canvasWidth,a.renderer.canvasHeight/2+5*o,o*Math.PI/5);a.waves.push(s)}return a.startAnimating(),a}return a(e,t),o(e,[{key:"_interactVertice",value:function(){this.vertices=[];for(var t=void 0,e=void 0,i=void 0,r=void 0,n=0;n<this.amplitudes.length;n++){var a=this.amplitudes[n],o=4*n;t=this.vertexVectors[o],e=this.vertexVectors[o+1],i=this.vertexVectors[o+2],r=this.vertexVectors[o+3],this.vertices=this.vertices.concat([t.x,t.y+a,e.x,e.y+a,r.x,r.y+a,i.x,r.y+a])}}},{key:"_initProgram",value:function(){this.prg=this.gl.makeProgram(u.commonVS,u.commonFS),this.prg&&(this.prg.setAttribLocations(["vertexPosition"]),this.prg.setUniformLocations(["pMatrix","mvMatrix","color"]),this.gl.uniformMatrix4fv(this.prg.mvMatrix,!1,this.mvMatrix),this.gl.uniformMatrix4fv(this.prg.pMatrix,!1,this.pMatrix),this.gl.uniform4fv(this.prg.color,[1,1,1,.8]))}},{key:"enterFrame",value:function(){s(Object.getPrototypeOf(e.prototype),"enterFrame",this).call(this),this.gl.clearColor(0,0,0,1),this.gl.viewport(0,0,this.renderer.canvasWidth,this.renderer.canvasHeight),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT);for(var t=0;t<this.waves.length;t++)this.waves[t].draw()}}]),e}(l.IAnimation)},function(t,e,i){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLRenderer=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),o=i(3),s=r(o);e.WebGLRenderer=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],i=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2];n(this,t),this.canvasWidth=0,this.canvasHeight=0,this.canvas=null,null!==r&&(this.canvas=document.getElementById(r)),null===this.canvas&&(this.canvas=document.createElement("canvas")),this.gl=this.getGLContext(),null===this.gl?this.isWebGLSuported=!1:(this.isWebGLSuported=!0,this.gl.createArrayBufferWithData=s.createArrayBufferWithData,this.gl.createArrayBufferWithDataAndType=s.createArrayBufferWithDataAndType,this.gl.createElementBufferWithData=s.createElementBufferWithData,this.gl.createTextureWithData=s.createTextureWithData,this.gl.makeProgram=s.makeProgram),this.setStyle(e,i)}return a(t,[{key:"setStyle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];null!=this.canvas&&0!==t&&0!==e&&(this.canvasWidth=t*window.devicePixelRatio,this.canvasHeight=e*window.devicePixelRatio,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,null===i?(this.canvas.style.width=t+"px",this.canvas.style.height=e+"px"):this.canvas.setAttribute("style","width:"+t+"px; height: "+e+"px; "+i+";"),this.canvas.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)",this.centerX=this.canvasWidth/2,this.centerY=this.canvasHeight/2)}},{key:"getGLContext",value:function(){for(var t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,i=0;i<t.length&&!(e=this.canvas.getContext(t[i],{antialias:!0}));++i);return e}}]),t}()},function(t,e){"use strict";function i(t,e){function i(t,e){var i=n.createShader(t);if(n.shaderSource(i,e),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS))throw new Error("compile error: "+n.getShaderInfoLog(i));return i}var r=this,n=this,a=this.createProgram();if(this.attachShader(a,i(this.VERTEX_SHADER,t)),this.attachShader(a,i(this.FRAGMENT_SHADER,e)),this.linkProgram(a),!this.getProgramParameter(a,this.LINK_STATUS))throw new Error("link error: "+this.getProgramInfoLog(a));return this.useProgram(a),a.setAttribLocations=function(t){for(var e=0,i=t.length;i>e;e+=1)a[t[e]]=r.getAttribLocation(a,t[e])},a.setUniformLocations=function(t){for(var e=0,i=t.length;i>e;e+=1)a[t[e]]=r.getUniformLocation(a,t[e])},a}function r(t){return this.createArrayBufferWithDataAndType(t,this.STREAM_DRAW)}function n(t,e){var i=this.createBuffer();return this.bindBuffer(this.ARRAY_BUFFER,i),this.bufferData(this.ARRAY_BUFFER,new Float32Array(t),e),this.bindBuffer(this.ARRAY_BUFFER,null),i}function a(t){var e=this.createBuffer();return this.bindBuffer(this.ELEMENT_ARRAY_BUFFER,e),this.bufferData(this.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),this.STATIC_DRAW),this.bindBuffer(this.ELEMENT_ARRAY_BUFFER,null),e}function o(t){return 0===(t&t-1)}function s(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];this.pixelStorei(this.UNPACK_FLIP_Y_WEBGL,!0);var i=this.createTexture();return this.bindTexture(this.TEXTURE_2D,i),this.texImage2D(this.TEXTURE_2D,0,this.RGBA,this.RGBA,this.UNSIGNED_BYTE,t),o(t.width)&&o(t.height)?(this.generateMipmap(this.TEXTURE_2D),e&&(this.texParameteri(this.TEXTURE_2D,this.TEXTURE_WRAP_S,this.REPEAT),this.texParameteri(this.TEXTURE_2D,this.TEXTURE_WRAP_T,this.REPEAT))):(this.texParameteri(this.TEXTURE_2D,this.TEXTURE_WRAP_S,this.CLAMP_TO_EDGE),this.texParameteri(this.TEXTURE_2D,this.TEXTURE_WRAP_T,this.CLAMP_TO_EDGE),this.texParameteri(this.TEXTURE_2D,this.TEXTURE_MIN_FILTER,this.LINEAR),this.texParameteri(this.TEXTURE_2D,this.TEXTURE_MAG_FILTER,this.LINEAR)),this.bindTexture(this.TEXTURE_2D,null),i}function h(t,e){var i=new Image;i.onload=function(){e&&e(i)},i.src=t}Object.defineProperty(e,"__esModule",{value:!0}),e.makeProgram=i,e.createArrayBufferWithData=r,e.createArrayBufferWithDataAndType=n,e.createElementBufferWithData=a,e.isPowerOf2=o,e.createTextureWithData=s,e.createImageByURL=h},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.commonVS="\nattribute vec3 vertexPosition;\n\nuniform mat4 mvMatrix;\nuniform mat4 pMatrix;\n\nvoid main(void) {\n  gl_Position = pMatrix * mvMatrix * vec4(vertexPosition, 1.0);\n}\n",e.commonFS="\nprecision mediump float;\n\nuniform vec4 color;\n\nvoid main(void) {\n  gl_FragColor = color;\n}\n"},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();e.Matrix4=function(){function t(){i(this,t),this.identity=t.identity()}return r(t,null,[{key:"identity",value:function(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},{key:"copy",value:function(e){var i=t.identity();return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i}},{key:"perspective",value:function(e,i,r,n){var a=1/Math.tan(e/2),o=1/(r-n),s=t.identity();return s[0]=a/i,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=a,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(n+r)*o,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*n*r*o,s[15]=0,s}},{key:"orthogonal",value:function(e,i,r,n,a,o){var s=1/(e-i),h=1/(r-n),u=1/(a-o),c=t.identity();return c[0]=-2*s,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*h,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*u,c[11]=0,c[12]=(e+i)*s,c[13]=(n+r)*h,c[14]=(o+a)*u,c[15]=1,c}},{key:"scale",value:function(t,e){var i=e[0],r=e[1],n=e[2];t[0]*=i,t[1]*=i,t[2]*=i,t[3]*=i,t[4]*=r,t[5]*=r,t[6]*=r,t[7]*=r,t[8]*=n,t[9]*=n,t[10]*=n,t[11]*=n}},{key:"translate",value:function(t,e){var i=e[0],r=e[1],n=e[2];return t[12]+=t[0]*i+t[4]*r+t[8]*n,t[13]+=t[1]*i+t[5]*r+t[9]*n,t[14]+=t[2]*i+t[6]*r+t[10]*n,t[15]+=t[3]*i+t[7]*r+t[11]*n,t}},{key:"inverse",value:function(e){var i=e[0],r=e[1],n=e[2],a=e[3],o=e[4],s=e[5],h=e[6],u=e[7],c=e[8],l=e[9],f=e[10],v=e[11],d=e[12],g=e[13],y=e[14],p=e[15],m=i*s-r*o,x=i*h-n*o,E=i*u-a*o,_=r*h-n*s,b=r*u-a*s,A=n*u-a*h,w=c*g-l*d,T=c*y-f*d,R=c*p-v*d,P=l*y-f*g,M=l*p-v*g,W=f*p-v*y,k=m*W-x*M+E*P+_*R-b*T+A*w;if(!k)return null;k=1/k;var B=t.identity();return B[0]=(s*W-h*M+u*P)*k,B[1]=(n*M-r*W-a*P)*k,B[2]=(g*A-y*b+p*_)*k,B[3]=(f*b-l*A-v*_)*k,B[4]=(h*R-o*W-u*T)*k,B[5]=(i*W-n*R+a*T)*k,B[6]=(y*E-d*A-p*x)*k,B[7]=(c*A-f*E+v*x)*k,B[8]=(o*M-s*R+u*w)*k,B[9]=(r*R-i*M-a*w)*k,B[10]=(d*b-g*E+p*m)*k,B[11]=(l*E-c*b-v*m)*k,B[12]=(s*T-o*P-h*w)*k,B[13]=(i*P-r*T+n*w)*k,B[14]=(g*x-d*_-y*m)*k,B[15]=(c*_-l*x+f*m)*k,B}},{key:"rotate",value:function(t,e,i,r){var n,a,o,s,h,u,c,l,f,v,d,g,y,p,m,x,E,_,b,A,w,T,R,P,M=r[0],W=r[1],k=r[2],B=Math.sqrt(M*M+W*W+k*k);return B=1/B,M*=B,W*=B,k*=B,n=Math.sin(i),a=Math.cos(i),o=1-a,s=e[0],h=e[1],u=e[2],c=e[3],l=e[4],f=e[5],v=e[6],d=e[7],g=e[8],y=e[9],p=e[10],m=e[11],x=M*M*o+a,E=W*M*o+k*n,_=k*M*o-W*n,b=M*W*o-k*n,A=W*W*o+a,w=k*W*o+M*n,T=M*k*o+W*n,R=W*k*o-M*n,P=k*k*o+a,t[0]=s*x+l*E+g*_,t[1]=h*x+f*E+y*_,t[2]=u*x+v*E+p*_,t[3]=c*x+d*E+m*_,t[4]=s*b+l*A+g*w,t[5]=h*b+f*A+y*w,t[6]=u*b+v*A+p*w,t[7]=c*b+d*A+m*w,t[8]=s*T+l*R+g*P,t[9]=h*T+f*R+y*P,t[10]=u*T+v*R+p*P,t[11]=c*T+d*R+m*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t}},{key:"multiplyMatrices",value:function(e,i){var r=t.identity(),n=e[0],a=e[4],o=e[8],s=e[12],h=e[1],u=e[5],c=e[9],l=e[13],f=e[2],v=e[6],d=e[10],g=e[14],y=e[3],p=e[7],m=e[11],x=e[15],E=i[0],_=i[4],b=i[8],A=i[12],w=i[1],T=i[5],R=i[9],P=i[13],M=i[2],W=i[6],k=i[10],B=i[14],D=i[3],S=i[7],F=i[11],L=i[15];return r[0]=n*E+a*w+o*M+s*D,r[4]=n*_+a*T+o*W+s*S,r[8]=n*b+a*R+o*k+s*F,r[12]=n*A+a*P+o*B+s*L,r[1]=h*E+u*w+c*M+l*D,r[5]=h*_+u*T+c*W+l*S,r[9]=h*b+u*R+c*k+l*F,r[13]=h*A+u*P+c*B+l*L,r[2]=f*E+v*w+d*M+g*D,r[6]=f*_+v*T+d*W+g*S,r[10]=f*b+v*R+d*k+g*F,r[14]=f*A+v*P+d*B+g*L,r[3]=y*E+p*w+m*M+x*D,r[7]=y*_+p*T+m*W+x*S,r[11]=y*b+p*R+m*k+x*F,r[15]=y*A+p*P+m*B+x*L,r}}]),t}()},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();e.IAnimation=function(){function t(){i(this,t),this.animationHandler=null,this.isAnimating=!1}return r(t,[{key:"startAnimating",value:function(){var t=this;this.isAnimating=!0,this.frameIndex=0,this.animationHandler=requestAnimationFrame(function(){t.enterFrame()})}},{key:"stopAnimating",value:function(){cancelAnimationFrame(this.animationHandler),this.isAnimating=!1}},{key:"enterFrame",value:function(){var t=this;this.frameIndex++,this.animationHandler=requestAnimationFrame(function(){t.enterFrame()})}},{key:"destory",value:function(){this.stopAnimating()}}]),t}()},function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Wave=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),a=i(8);e.Wave=function(){function t(e,i,n,a){var o=arguments.length<=4||void 0===arguments[4]?0:arguments[4];r(this,t),this.gl=e,this.prg=i,this.positionY=a,this.drawWidth=n,this.vertexVectors=[],this.vertices=[],this.indices=[],this.amplitudes=[],this.waveLengthArr=[],this.startAngle=o,this._initData()}return n(t,[{key:"_initData",value:function(){this._generateVerticesData(),this.createIndexBuffer()}},{key:"createIndexBuffer",value:function(){this.indexBuffer=this.gl.createElementBufferWithData(this.indices)}},{key:"_generateVerticesData",value:function(){for(var t=this.positionY,e=1,i=0,r=this.drawWidth/2,n=30*window.devicePixelRatio,o=1,s=(n-o)/r,h=Math.floor(this.drawWidth/3),u=Math.floor(this.drawWidth/8),c=(h-u)/r,l=0;l<this.drawWidth;l+=2){var f=new a.Vector2(l-e,t-e),v=new a.Vector2(l-e,t+e),d=new a.Vector2(l+e,t-e),g=new a.Vector2(l+e,t+e);this.vertexVectors=this.vertexVectors.concat([f,v,g,d]),this.indices=this.indices.concat([i,i+1,i+2,i,i+2,i+3]),i+=4;var y=r>l?l:this.drawWidth-l;this.amplitudes.push(o+Math.ceil(s*y)),this.waveLengthArr.push(u+Math.ceil(c*y))}}},{key:"_generateWave",value:function(){this.vertices=[];var t=void 0,e=void 0,i=void 0,r=void 0,n=this.startAngle,a=Math.PI/200,o=40;this.startAngle+=4*a;for(var s=0;s<this.amplitudes.length;s++){var h=Math.sin(n)*o;n+=a;var u=4*s;t=this.vertexVectors[u],e=this.vertexVectors[u+1],i=this.vertexVectors[u+2],r=this.vertexVectors[u+3],this.vertices=this.vertices.concat([t.x,t.y+h,e.x,e.y+h,r.x,r.y+h,i.x,r.y+h])}}},{key:"draw",value:function(){this._generateWave(),this.vertexBuffer=this.gl.createArrayBufferWithData(this.vertices),this.gl.enableVertexAttribArray(this.prg.vertexPosition),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vertexBuffer),this.gl.vertexAttribPointer(this.prg.vertexPosition,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.drawElements(this.gl.TRIANGLES,this.indices.length,this.gl.UNSIGNED_SHORT,0)}},{key:"clone",value:function(){var e=new t(this.gl,this.prg,this.drawWidth,this.positionY-20);return e.vertexVectors=this.vertexVectors.concat(),e.amplitudes=this.amplitudes.concat(),e.waveLengthArr=this.waveLengthArr.concat(),e.createIndexBuffer(),e}}]),t}()},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();e.Vector2=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],r=arguments.length<=1||void 0===arguments[1]?0:arguments[1];i(this,t),this.x=e,this.y=r}return r(t,[{key:"getArray",value:function(){return[this.x,this.y]}},{key:"transformByMat2d",value:function(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},{key:"applyMatrix4",value:function(t){var e=this.x,i=this.y,r=0,n=1;this.x=t[0]*e+t[4]*i+t[8]*r+t[12]*n,this.y=t[1]*e+t[5]*i+t[9]*r+t[13]*n;var a=t[3]*e+t[7]*i+t[11]*r+t[15]*n;return this.x=this.x/a,this.y=this.y/a,this}},{key:"dotProduct",value:function(t){return this.x*t.x+this.y*t.y}},{key:"scale",value:function(t){this.x*=t,this.y*=t}},{key:"swapToModelPosition",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];this.x=this.x*t-e,this.y=i-this.y*t}},{key:"isEqualTo",value:function(t){return t.x===this.x&&t.y===this.y}}],[{key:"generateVector",value:function(e,i){return new t(i[0]-e[0],i[1]-e[1])}},{key:"zeroVector",value:function(){return new t}},{key:"copy",value:function(e){return new t(e.x,e.y)}}]),t}()}]);