var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,i=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a;import{d as n,r as o,c as s,a as c,b as d,t as r,o as u,e as m,w as p,f as v,g as f,v as y,F as _,h,i as g,j as b,k as w,l as V,s as T,m as E}from"./vendor.3df24854.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(l){const a=new URL(e,location),i=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((l,n)=>{const o=new URL(e,a);if(self[t].moduleMap[o])return l(self[t].moduleMap[o]);const s=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),d=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){n(new Error(`Failed to import: ${e}`)),i(d)},onload(){l(self[t].moduleMap[o]),i(d)}});document.head.appendChild(d)})),self[t].moduleMap={}}}("assets/");const B=n({props:{step:{type:Number,default:1},min:{type:Number,default:0},max:{type:Number,default:10},modelValue:{type:Number,default:0}},emits:["update:modelValue"],setup(e,{emit:t}){const l=o({currentValue:e.modelValue}),a=s((()=>l.currentValue)),i=s((()=>m(e.modelValue)<e.min)),n=s((()=>u(e.modelValue)>e.max)),d=s((()=>{const t=r(e.step);return Math.max(r(e.modelValue),t)})),c=(e,t)=>(void 0===t&&(t=d.value),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t)+"")),r=e=>{if(void 0===e)return 0;const t=e.toString(),l=t.indexOf(".");let a=0;return-1!==l&&(a=t.length-l-1),a},u=t=>{const l=Math.pow(10,d.value);return c((l*t+l*e.step)/l)},m=t=>{const l=Math.pow(10,d.value);return c((l*t-l*e.step)/l)},p=a=>{const i=l.currentValue;a>=e.max&&(a=e.max),a<=e.min&&(a=e.min),i!==a&&(t("update:modelValue",a),l.currentValue=a)};return{displayValue:a,minDisabled:i,maxDisabled:n,increase:()=>{if(n.value)return;const t=e.modelValue||0,l=u(t);p(l)},decrease:()=>{if(i.value)return;const t=e.modelValue||0,l=m(t);p(l)}}}}),C={class:"counter border_comp"},S={class:"counter_display"};B.render=function(e,t,l,a,i,n){return u(),c("div",C,[d("span",{class:["decrease",{isDisabled:e.minDisabled}],onClick:t[1]||(t[1]=(...t)=>e.decrease&&e.decrease(...t))}," - ",2),d("label",S,r(e.displayValue),1),d("span",{class:["increase",{isDisabled:e.maxDisabled}],onClick:t[2]||(t[2]=(...t)=>e.increase&&e.increase(...t))}," + ",2)])};const x=n({components:{StepNumber:B},setup(){const e=m(2);localStorage.setItem("particle_size",e.value),p(e,((e,t)=>{localStorage.setItem("particle_size",e),dispatchEventByName("particle_size_changed")}));const n=m(3e4);localStorage.setItem("particles_count",n.value),p(n,((e,t)=>{localStorage.setItem("particles_count",e),dispatchEventByName("particles_count_changed")}));const s=m("1");p(s,((e,t)=>{localStorage.setItem("color_type",e),dispatchEventByName("particle_color_changed")}));const d=o({colorOptions:[{value:"0",label:"Uniform"},{value:"1",label:"Movement angle"},{value:"2",label:"Speed"}]});return((e,n)=>{for(var o in n||(n={}))t.call(n,o)&&i(e,o,n[o]);if(l)for(var o of l(n))a.call(n,o)&&i(e,o,n[o]);return e})({particlesCount:n,particleSize:e,colorType:s},v(d))}}),I={class:"row"},P=d("div",{class:"row_item0"}," Particle size (physical pixel): ",-1),U={class:"row_item1"},M={class:"row"},k=d("div",{class:"row_item0"}," Particles count: ",-1),z={class:"row_item1"},N={class:"row"},A=d("div",{class:"row_item0"}," Particle color: ",-1),O={class:"row_item1"};x.render=function(e,t,l,a,i,n){const o=g("step-number");return u(),c(_,null,[d("div",I,[P,d("div",U,[d(o,{modelValue:e.particleSize,"onUpdate:modelValue":t[1]||(t[1]=t=>e.particleSize=t),min:1,max:5,step:1},null,8,["modelValue"])])]),d("div",M,[k,d("div",z,[d(o,{modelValue:e.particlesCount,"onUpdate:modelValue":t[2]||(t[2]=t=>e.particlesCount=t),min:1e4,max:2e5,step:1e4},null,8,["modelValue"])])]),d("div",N,[A,d("div",O,[f(d("select",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.colorType=t),class:"border_comp"},[(u(!0),c(_,null,h(e.colorOptions,(e=>(u(),c("option",{key:e.value,value:e.value},r(e.label),9,["value"])))),128))],512),[[y,e.colorType]])])])],64)};const R={components:{ParticlesParameter:x},setup(){const e=m("1");p(e,((e,a)=>{let i=document.getElementById("pfProperties"),n=document.getElementById("lbmProperties");var o;"1"===e?(i.style.display="block",n.style.display="none",o=t.value):(i.style.display="none",n.style.display="block",o=l.value),localStorage.setItem("field_animation_type",o),localStorage.setItem("field_type",e),dispatchEventByName("field_type")}));const t=m("2");p(t,((e,t)=>{localStorage.setItem("field_animation_type",e),dispatchEventByName("field_animation_type")}));const l=m("3");p(l,((e,t)=>{localStorage.setItem("field_animation_type",e),dispatchEventByName("field_animation_type")}));const a={msg:"Swipe on the canvas to apply external force."},i={msg:"Click on the canvas to add obstacle."},n=s((()=>"3"===l.value?[a,i]:[a])),o=s((()=>"3"===l.value?"Clean Added Obstacle":"Clean Canvas")),d=m(.015);return p(d,((e,t)=>{localStorage.setItem("fluid_viscosity",e),dispatchEventByName("fluid_viscosity_changed")})),{fieldType:e,fieldAnimationType:t,fluidAnimationType:l,fluidViscosity:d,tipsMsgList:n,cleanBtTitle:o}},methods:{onReset(){let e=document.getElementById("canvas_container");const t=new Event("canvas_reset");e.dispatchEvent(t)}}},j={id:"control_panel"},F=w(" Programmable Field "),L=w(" LBM Fluid Field "),D=d("div",{class:"divider"},null,-1),$={id:"pfProperties"},J=d("p",null,"Animation type:   ",-1),X=w(" Spiral "),Y=w(" Julia set "),q={id:"lbmProperties"},G=d("p",null,"Animation type:   ",-1),H=w(" Poiseuille Flow "),K=w(" Custom Touch Move "),Q={class:"tips"},W=w(" Tips: "),Z=d("div",{class:"divider"},null,-1),ee={class:"col"},te=d("div",{class:"col_item0"}," Fluid viscosity: ",-1),le=d("div",{class:"col_item1"}," 0.005 ",-1),ae={class:"col_item2"},ie=d("div",{class:"col_item3"}," 0.20 ",-1),ne=d("div",{class:"divider"},null,-1);R.render=function(e,t,l,a,i,n){const o=g("el-radio"),s=g("el-slider"),m=g("particles-parameter");return u(),c("div",j,[d(o,{modelValue:a.fieldType,"onUpdate:modelValue":t[1]||(t[1]=e=>a.fieldType=e),label:"1"},{default:b((()=>[F])),_:1},8,["modelValue"]),d(o,{modelValue:a.fieldType,"onUpdate:modelValue":t[2]||(t[2]=e=>a.fieldType=e),label:"2"},{default:b((()=>[L])),_:1},8,["modelValue"]),D,d("div",$,[J,d("div",null,[d(o,{modelValue:a.fieldAnimationType,"onUpdate:modelValue":t[3]||(t[3]=e=>a.fieldAnimationType=e),label:"1"},{default:b((()=>[X])),_:1},8,["modelValue"]),d(o,{modelValue:a.fieldAnimationType,"onUpdate:modelValue":t[4]||(t[4]=e=>a.fieldAnimationType=e),label:"2"},{default:b((()=>[Y])),_:1},8,["modelValue"])])]),d("div",q,[G,d("div",null,[d(o,{modelValue:a.fluidAnimationType,"onUpdate:modelValue":t[5]||(t[5]=e=>a.fluidAnimationType=e),label:"3"},{default:b((()=>[H])),_:1},8,["modelValue"]),d(o,{modelValue:a.fluidAnimationType,"onUpdate:modelValue":t[6]||(t[6]=e=>a.fluidAnimationType=e),label:"4"},{default:b((()=>[K])),_:1},8,["modelValue"]),d("div",Q,[W,d("ul",null,[(u(!0),c(_,null,h(a.tipsMsgList,(e=>(u(),c("li",{key:e.msg},r(e.msg),1)))),128))])]),d("button",{class:"cornerBt",onClick:t[7]||(t[7]=(...e)=>n.onReset&&n.onReset(...e))},r(a.cleanBtTitle),1),Z]),d("div",ee,[te,le,d("div",ae,[d(s,{modelValue:a.fluidViscosity,"onUpdate:modelValue":t[8]||(t[8]=e=>a.fluidViscosity=e),min:.005,max:.23,step:.005,label:""},null,8,["modelValue","min","max","step"])]),ie])]),ne,d(m)])};const oe=n({setup:()=>({singleClick:e=>{let t=e.offsetX,l=e.offsetY;console.log("click P: "+t+", "+l)}})});oe.render=function(e,t,l,a,i,n){return u(),c("div",{id:"canvas_container",onClick:t[1]||(t[1]=(...t)=>e.singleClick&&e.singleClick(...t))})};const se={components:{setting:R,CanvasContainer:oe}},ce={id:"col_container"},de={id:"mail_col"},re={id:"right_col"};se.render=function(e,t,l,a,i,n){const o=g("canvas-container"),s=g("setting");return u(),c("div",ce,[d("div",de,[d(o)]),d("div",re,[d(s)])])};const ue=V(se);ue.use(T),ue.use(E),ue.mount("#app"),window.dispatchEventByName=function(e){let t=document.getElementById("canvas_container");if(null==t)return;const l=new Event(e);t.dispatchEvent(l)};var me=!0;window.canvas_resize_completed=function(){me=!0},window.dispatch_resize_event=function(){me=!1;let e=document.getElementById("canvas_container");null!=e&&e.dispatchEvent(new Event("canvas_size_need_change"))};let pe=window.devicePixelRatio||1;var ve,fe=0,ye=0;window.change_canvas_size=function(){let e=document.getElementById("canvas_container");if(null==e)return;let t=e.getBoundingClientRect(),l=e.childNodes[0];t.width!=fe&&(l.style.width=t.width+"px",l.width=t.width*pe,fe=t.width),t.height!=ye&&(l.style.height=t.height+"px",l.height=t.height*pe,ye=t.height)},window.onresize=function e(){clearTimeout(ve),me?ve=setTimeout(dispatch_resize_event,800):(console.log("user event: can_resize_canvas--false"),ve=setTimeout(e,800))};