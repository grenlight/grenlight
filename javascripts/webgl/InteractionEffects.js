!function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(){var t=arguments.length<=0||void 0===arguments[0]?"#fafafa":arguments[0],e=arguments.length<=1||void 0===arguments[1]?"lines_randomAcceleration_fall":arguments[1];g=t,v=g,null!==p&&p.destory(),"lines_randomAcceleration_fall"===e?p=new u.LinesRandomFallEffect(m,t):"film_noiseee"===e?p=new h.FilmNoiseeeEffect(m,t):"dot_matrix"===e?p=new c.DotMatrixEffect(m,t):"dot_matrix2"===e?p=new d.DotMatrixEffect2(m,t):"lines_randomAcceleration_fall2"===e&&(p=new f.LinesRandomFallEffect2(m,t))}function o(){null===p&&n()}function a(t){o(),v!==t&&(g=v,v=t,p.verticesColorChanged(t))}var s=r(1),l=i(s),u=r(9),f=r(11),h=r(12),c=r(13),d=r(14),g=null,v=null,p=null,m=new l.WebGLRenderer,y=null===m.gl?!1:!0;y===!0&&m.canvas.setAttribute("style","position: fixed; top:0px; left:0px; width:100%; height:100%; z-index:-10"),document.ontouchmove=function(t){t.preventDefault()},window.globalEE.addListener("initialBackground",n),window.globalEE.addListener("backgroundColorChanged",a)},function(t,e,r){"use strict";function i(t,e){var r=e({},t);return delete r["default"],r}function n(t,e){for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var n=r[i],o=Object.getOwnPropertyDescriptor(e,n);o&&o.configurable&&void 0===t[n]&&Object.defineProperty(t,n,o)}return t}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2);n(e,i(o,n));var a=r(3);n(e,i(a,n));var s=r(4);n(e,i(s,n));var l=r(5);n(e,i(l,n));var u=r(6);n(e,i(u,n));var f=r(7);n(e,i(f,n));var h=r(8);n(e,i(h,n))},function(t,e){"use strict";function r(t,e,r){function i(t,e){var i=r.createShader(t);if(r.shaderSource(i,e),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS))throw new Error("compile error: "+r.getShaderInfoLog(i));return i}var n=r.createProgram();if(r.attachShader(n,i(r.VERTEX_SHADER,t)),r.attachShader(n,i(r.FRAGMENT_SHADER,e)),r.linkProgram(n),!r.getProgramParameter(n,r.LINK_STATUS))throw new Error("link error: "+r.getProgramInfoLog(n));return r.useProgram(n),n}Object.defineProperty(e,"__esModule",{value:!0}),e.makeProgram=r},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(){function t(){r(this,t)}return i(t,null,[{key:"hex2rgb",value:function(t){"#"===t.substr(0,1)&&(t="0x"+t.substr(1,t.length-1));var e=[];return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}}]),t}();e.Color=n},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){var t=function d(){r(this,d)},e=!0,i=!1,o=void 0;try{for(var a=arguments.length,s=Array(a),l=0;a>l;l++)s[l]=arguments[l];for(var u,f=s[Symbol.iterator]();!(e=(u=f.next()).done);e=!0){var h=u.value;n(t,h),n(t.prototype,h.prototype)}}catch(c){i=!0,o=c}finally{try{!e&&f["return"]&&f["return"]()}finally{if(i)throw o}}return t}function n(t,e){var r=!0,i=!1,n=void 0;try{for(var o,a=Reflect.ownKeys(e)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;if("constructor"!==s&&"prototype"!==s&&"name"!==s){var l=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,l)}}}catch(u){i=!0,n=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw n}}}Object.defineProperty(e,"__esModule",{value:!0}),e.Mixin=i},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],i=this,n=arguments.length<=1||void 0===arguments[1]?400:arguments[1],o=arguments.length<=2||void 0===arguments[2]?400:arguments[2];r(this,t),this.canvasWidth=0,this.canvasHeight=0,null==e?(this.canvas=document.createElement("canvas"),this.canvas.setAttribute("id","canvas"),this.canvas.setAttribute("width",n),this.canvas.setAttribute("height",o),document.body.appendChild(this.canvas)):this.canvas=document.getElementById(e),this.gl=this.getGLContext(),this.resetCanvas(),window.addEventListener("resize",function(){i.resetCanvas()},!1)}return i(t,[{key:"resetCanvas",value:function(){if(null!=this.canvas){var t=this.canvas.offsetWidth*window.devicePixelRatio,e=this.canvas.offsetHeight*window.devicePixelRatio;this.canvas.width=t,this.canvas.height=e,this.canvas.style.width=this.canvas.offsetWidth,this.canvas.style.height=this.canvas.offsetHeight,this.canvasWidth=this.canvas.width,this.canvasHeight=this.canvas.height}}},{key:"getGLContext",value:function(){for(var t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],e=null,r=0;r<t.length&&!(e=this.canvas.getContext(t[r]));++r);return e}}]),t}();e.WebGLRenderer=n},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(){function t(){r(this,t)}return i(t,[{key:"constractor",value:function(){this.identity=t.identity()}}],[{key:"identity",value:function(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},{key:"copy",value:function(e){var r=t.identity();return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}},{key:"perspective",value:function(e,r,i,n){var o=1/Math.tan(e/2),a=1/(i-n),s=t.identity();return s[0]=o/r,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(n+i)*a,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*n*i*a,s[15]=0,s}},{key:"orthogonal",value:function(e,r,i,n,o,a){var s=1/(e-r),l=1/(i-n),u=1/(o-a),f=t.identity();return f[0]=-2*s,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=-2*l,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=2*u,f[11]=0,f[12]=(e+r)*s,f[13]=(n+i)*l,f[14]=(a+o)*u,f[15]=1,f}},{key:"scale",value:function(t,e){var r=e[0],i=e[1],n=e[2];t[0]*=r,t[1]*=r,t[2]*=r,t[3]*=r,t[4]*=i,t[5]*=i,t[6]*=i,t[7]*=i,t[8]*=n,t[9]*=n,t[10]*=n,t[11]*=n}},{key:"translate",value:function(t,e){var r=e[0],i=e[1],n=e[2];t[12]+=t[0]*r+t[4]*i+t[8]*n,t[13]+=t[1]*r+t[5]*i+t[9]*n,t[14]+=t[2]*r+t[6]*i+t[10]*n,t[15]+=t[3]*r+t[7]*i+t[11]*n}},{key:"inverse",value:function(e){var r=e[0],i=e[1],n=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],f=e[8],h=e[9],c=e[10],d=e[11],g=e[12],v=e[13],p=e[14],m=e[15],y=r*s-i*a,x=r*l-n*a,b=r*u-o*a,C=i*l-n*s,P=i*u-o*s,M=n*u-o*l,_=f*v-h*g,w=f*p-c*g,O=f*m-d*g,A=h*p-c*v,E=h*m-d*v,R=c*m-d*p,B=y*R-x*E+b*A+C*O-P*w+M*_;if(!B)return null;B=1/B;var F=t.identity();return F[0]=(s*R-l*E+u*A)*B,F[1]=(n*E-i*R-o*A)*B,F[2]=(v*M-p*P+m*C)*B,F[3]=(c*P-h*M-d*C)*B,F[4]=(l*O-a*R-u*w)*B,F[5]=(r*R-n*O+o*w)*B,F[6]=(p*b-g*M-m*x)*B,F[7]=(f*M-c*b+d*x)*B,F[8]=(a*E-s*O+u*_)*B,F[9]=(i*O-r*E-o*_)*B,F[10]=(g*P-v*b+m*y)*B,F[11]=(h*b-f*P-d*y)*B,F[12]=(s*w-a*A-l*_)*B,F[13]=(r*A-i*w+n*_)*B,F[14]=(v*x-g*C-p*y)*B,F[15]=(f*C-h*x+c*y)*B,F}}]),t}();e.Matrix4=n},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=function(){function t(){r(this,t),this.vertices=[],this.colors=[],this.indices=[],this.faces=[],this.faceVertexUvs=[[]],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}return i(t,[{key:"toString",value:function(){}}]),t}();e.Geometry=n},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(t,e,r){for(var i=!0;i;){var n=t,o=e,a=r;s=u=l=void 0,i=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=o,r=a,i=!0}},s=r(7),l=r(6),u=function(t){function e(t,r,n,o,s){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.gl=t.gl,this.prg=r,this.windowHeight=t.canvasHeight,this.windowWidth=t.canvasWidth,this.halfWindowX=t.canvasWidth/2,this.halfWindowY=t.canvasHeight/2,this.width=n,this.height=o,this.offsetX=s,this.vertices=[-1,-1,0,-1,1,0,1,1,0,1,-1,0],this.indices=[0,1,2,0,2,3],this.translateY=0,this.speed=0,this.needsUpdate=!1,this.isBufferBinded=!1,this.vetexBuffer=null,this.indexBuffer=null,this.baseMVMatrix=l.Matrix4.identity(),this.mvMatrix=l.Matrix4.identity(),this.pMatrix=l.Matrix4.identity(),this.mvMatrixList=[],this.frameIndex=0,l.Matrix4.translate(this.baseMVMatrix,[0,0,0]),l.Matrix4.scale(this.baseMVMatrix,[n,this.windowHeight,1]),l.Matrix4.translate(this.baseMVMatrix,[2*s+1-this.windowWidth/n,2,0]),this.reset()}return n(e,t),o(e,[{key:"reset",value:function(){this.speed=.001,this.currentHeight=0,this.translateY=0,this.needsUpdate=!0,this.frameIndex=0,this.mvMatrixList=[],this.generateMVMatrixArray()}},{key:"updateMVMatrix",value:function(){this.frameIndex<this.mvMatrixList.length&&(this.mvMatrix=this.mvMatrixList[this.frameIndex],this.frameIndex++)}},{key:"generateMVMatrixArray",value:function(){if(-2===this.translateY)return void(this.needsUpdate=!1);this.translateY-=this.speed,this.translateY<-2&&(this.translateY=-2),this.speed+=.004*Math.random()+.001;var t=l.Matrix4.copy(this.baseMVMatrix);l.Matrix4.translate(t,[0,this.translateY,0]),this.mvMatrixList.push(t),this.generateMVMatrixArray()}},{key:"createIndexBuffer",value:function(){this.vetexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vetexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(this.vertices),this.gl.STATIC_DRAW),this.indexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.indices),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)}},{key:"bindReaderBuffers",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vetexBuffer),this.gl.vertexAttribPointer(this.prg.aVertexPosition,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.prg.vertexPositionAttribute),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer)}},{key:"update",value:function(){this.updateMVMatrix(),this.gl.uniformMatrix4fv(this.prg.mvMatrixUniform,!1,this.mvMatrix),this.gl.drawElements(this.gl.TRIANGLES,this.indices.length,this.gl.UNSIGNED_SHORT,0)}}]),e}(s.Geometry);e.Box2=u},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s=function(t,e,r){for(var i=!0;i;){var n=t,o=e,a=r;s=u=l=void 0,i=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=o,r=a,i=!0}},l=r(1),u=i(l),f=r(10),h=function(t){function e(t,r){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,r),this.boxs=[],this.initProgram(),this.renderer.gl.uniformMatrix4fv(this.prg.pMatrixUniform,!1,this.pMatrix),this.renderer.gl.uniform4fv(this.prg.frontColor,this.currentColor);for(var i=5,o=Math.ceil(this.renderer.canvasWidth/i),a=0;o>a;a++){var l=new u.Box2(this.renderer,this.prg,i,this.renderer.canvasWidth,a);this.boxs.push(l)}this.boxs[0].createIndexBuffer(),this.drawStaticColor()}return o(e,t),a(e,[{key:"initProgram",value:function(){var t=["attribute vec3 aVertexPosition;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","void main(void) {","gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0); ","}"].join("\n"),e=["#ifdef GL_ES","precision highp float;","uniform vec4 color;","#endif","void main(void) {","gl_FragColor = color; ","}"].join("\n");this.prg=u.makeProgram(t,e,this.renderer.gl),this.prg.vertexPositionAttribute=this.renderer.gl.getAttribLocation(this.prg,"aVertexPosition"),this.prg.frontColor=this.renderer.gl.getUniformLocation(this.prg,"color"),this.prg.pMatrixUniform=this.renderer.gl.getUniformLocation(this.prg,"uPMatrix"),this.prg.mvMatrixUniform=this.renderer.gl.getUniformLocation(this.prg,"uMVMatrix")}},{key:"renderLoop",value:function(){var t=this;this.drawStaticColor(),this.boxs[0].bindReaderBuffers();for(var e=0,r=this.boxs.length;r>e;e++)this.boxs[e].update();this.animationHandler=requestAnimationFrame(function(){t.renderLoop()})}},{key:"verticesColorChanged",value:function(t){s(Object.getPrototypeOf(e.prototype),"verticesColorChanged",this).call(this,t),cancelAnimationFrame(this.animationHandler),this.renderer.gl.uniform4fv(this.prg.frontColor,this.currentColor);for(var r=0;r<this.boxs.length;r++)this.boxs[r].reset();this.renderLoop()}}]),e}(f.IColorChange);e.LinesRandomFallEffect=h},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=r(1),s=i(a),l=function(){function t(e){var r=arguments.length<=1||void 0===arguments[1]?"#fafafa":arguments[1];n(this,t);var i=s.Color.hex2rgb(r);this.lastColor=[i[0],i[1],i[2],1],this.currentColor=this.lastColor,this.animationHandler=null,this.prg=null,this.renderer=e,this.gl=this.renderer.gl,this.pMatrix=s.Matrix4.orthogonal(-this.renderer.canvasWidth,this.renderer.canvasWidth,-this.renderer.canvasHeight,this.renderer.canvasHeight,-5e3,5e3)}return o(t,[{key:"drawStaticColor",value:function(){this.gl.clearColor(this.lastColor[0],this.lastColor[1],this.lastColor[2],1),this.gl.disable(this.gl.DEPTH_TEST),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.viewport(0,0,this.renderer.canvasWidth,this.renderer.canvasHeight)}},{key:"verticesColorChanged",value:function(t){var e=s.Color.hex2rgb(t);(this.currentColor[0]!==e[0]||this.currentColor[1]!==e[1]||this.currentColor[2]!==e[2])&&(this.lastColor=this.currentColor,this.currentColor=[e[0],e[1],e[2],1])}},{key:"destory",value:function(){cancelAnimationFrame(this.animationHandler),this.gl=null,this.renderer=null,this.prg=null,this.currentColor=[],this.lastColor=[]}}]),t}();e.IColorChange=l},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s=function(t,e,r){for(var i=!0;i;){var n=t,o=e,a=r;s=u=l=void 0,i=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=o,r=a,i=!0}},l=r(1),u=i(l),f=r(10),h=function(t){function e(t,r){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,r),this.verticesList=[],this.initProgram(),this.renderer.gl.uniformMatrix4fv(this.prg.pMatrixUniform,!1,this.pMatrix),this.renderer.gl.uniform4fv(this.prg.frontColor,this.currentColor);for(var i=5,o=Math.ceil(this.renderer.canvasWidth/i),a=0;o>a;a++){var l=new u.Box2(this.renderer,this.prg,i,this.renderer.canvasWidth,a);this.boxs.push(l)}this.boxs[0].createIndexBuffer(),this.drawStaticColor()}return o(e,t),a(e,[{key:"initProgram",value:function(){var t=["attribute vec3 aVertexPosition;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","void main(void) {","gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0); ","}"].join("\n"),e=["#ifdef GL_ES","precision highp float;","uniform vec4 color;","#endif","void main(void) {","gl_FragColor = color; ","}"].join("\n");this.prg=u.makeProgram(t,e,this.renderer.gl),this.prg.vertexPositionAttribute=this.renderer.gl.getAttribLocation(this.prg,"aVertexPosition"),this.prg.frontColor=this.renderer.gl.getUniformLocation(this.prg,"color"),this.prg.pMatrixUniform=this.renderer.gl.getUniformLocation(this.prg,"uPMatrix"),this.prg.mvMatrixUniform=this.renderer.gl.getUniformLocation(this.prg,"uMVMatrix")}},{key:"renderLoop",value:function(){var t=this;this.drawStaticColor(),this.boxs[0].bindReaderBuffers();for(var e=0,r=this.boxs.length;r>e;e++)this.boxs[e].update();this.animationHandler=requestAnimationFrame(function(){t.renderLoop()})}},{key:"verticesColorChanged",value:function(t){s(Object.getPrototypeOf(e.prototype),"verticesColorChanged",this).call(this,t),cancelAnimationFrame(this.animationHandler),this.renderer.gl.uniform4fv(this.prg.frontColor,this.currentColor);for(var r=0;r<this.boxs.length;r++)this.boxs[r].reset();this.renderLoop()}}]),e}(f.IColorChange);e.LinesRandomFallEffect2=h},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s=function(t,e,r){for(var i=!0;i;){var n=t,o=e,a=r;s=u=l=void 0,i=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=o,r=a,i=!0}},l=r(1),u=i(l),f=r(10),h=function(t){function e(t,r){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,r),this.renderer=t,this.prg=null,this.vetexBuffer=null,this.indexBuffer=null,this.mvMatrix=u.Matrix4.identity(),u.Matrix4.scale(this.mvMatrix,[this.renderer.canvasWidth,this.renderer.canvasHeight,1]),this.initProgram(),this.createIndexBuffer(),this.reset()}return o(e,t),a(e,[{key:"reset",value:function(){this.frameIndex=0,this.frameCount=60,this.gl.uniformMatrix4fv(this.prg.mvMatrixUniform,!1,this.mvMatrix),this.gl.uniformMatrix4fv(this.prg.pMatrixUniform,!1,this.pMatrix),this.gl.uniform1i(this.prg.frameIndex,this.frameIndex),this.gl.uniform4fv(this.prg.backColor,this.lastColor),this.gl.uniform4fv(this.prg.frontColor,this.currentColor),this.drawStaticColor()}},{key:"initProgram",value:function(){var t=["attribute vec3 aVertexPosition;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","varying vec3 vPointCoord;","void main(void) {","vPointCoord = aVertexPosition;","gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0); ","}"].join("\n"),e=["precision highp float;","uniform vec4 backColor;","uniform vec4 noiseColor;","uniform float frameIndex;","varying vec3 vPointCoord;","const float frameCount = 60.0;","const float pixels = 1800.0;","void main(void)","{","vec2 newPoint = vec2(dot(vPointCoord.x, pixels), dot(vPointCoord.y, pixels)) ;","vec2 modValue = abs(mod(newPoint, frameCount));","if (step(frameIndex, modValue.x) == 1.0 && step(frameIndex, modValue.y) == 1.0) {","gl_FragColor = backColor;","} else {","gl_FragColor = noiseColor;","}","}"].join("\n");this.prg=u.makeProgram(t,e,this.gl),this.prg.vertexPositionAttribute=this.gl.getAttribLocation(this.prg,"aVertexPosition"),this.prg.backColor=this.gl.getUniformLocation(this.prg,"backColor"),this.prg.frontColor=this.gl.getUniformLocation(this.prg,"noiseColor"),this.prg.frameIndex=this.gl.getUniformLocation(this.prg,"frameIndex"),this.prg.pMatrixUniform=this.gl.getUniformLocation(this.prg,"uPMatrix"),this.prg.mvMatrixUniform=this.gl.getUniformLocation(this.prg,"uMVMatrix")}},{key:"createIndexBuffer",value:function(){var t=[-1,-1,0,-1,1,0,1,1,0,1,-1,0];this.indices=[0,1,2,0,2,3],this.vetexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vetexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW),this.indexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.indices),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)}},{key:"renderLoop",value:function(){var t=this;this.drawStaticColor(),this.frameIndex+=1,this.gl.uniform1f(this.prg.frameIndex,this.frameIndex),this.update(),this.frameIndex>=this.frameCount?this.animationHandler=null:this.animationHandler=requestAnimationFrame(function(){t.renderLoop()})}},{key:"update",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vetexBuffer),this.gl.vertexAttribPointer(this.prg.aVertexPosition,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.prg.vertexPositionAttribute),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.drawElements(this.gl.TRIANGLES,this.indices.length,this.gl.UNSIGNED_SHORT,0)}},{key:"verticesColorChanged",value:function(t){s(Object.getPrototypeOf(e.prototype),"verticesColorChanged",this).call(this,t),cancelAnimationFrame(this.animationHandler),this.reset(),this.renderLoop()}}]),e}(f.IColorChange);e.FilmNoiseeeEffect=h},function(t,e,r){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s=function(t,e,r){for(var i=!0;i;){var n=t,o=e,a=r;s=u=l=void 0,i=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=o,r=a,i=!0}},l=r(1),u=i(l),f=r(10),h=function(t){function e(t,r){n(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,r),this.renderer=t,this.prg=null,this.vetexBuffer=null,this.indexBuffer=null,this.mvMatrix=u.Matrix4.identity(),u.Matrix4.scale(this.mvMatrix,[this.renderer.canvasWidth,this.renderer.canvasHeight,1]),this.initProgram(),this.createIndexBuffer(),this.reset()}return o(e,t),a(e,[{key:"reset",value:function(){this.frameIndex=0,this.frameCount=60,this.speed=2,this.accelerate=.03,this.gl.uniformMatrix4fv(this.prg.mvMatrixUniform,!1,this.mvMatrix),this.gl.uniformMatrix4fv(this.prg.pMatrixUniform,!1,this.pMatrix),this.gl.uniform1f(this.prg.frameIndex,this.frameIndex),this.gl.uniform1f(this.prg.screenRate,this.renderer.canvasWidth/this.renderer.canvasHeight),this.gl.uniform4fv(this.prg.backColor,this.lastColor),this.gl.uniform4fv(this.prg.frontColor,this.currentColor),this.drawStaticColor()}},{key:"getVetexShader",value:function(){return"\n    attribute vec3 aVertexPosition;\n    uniform mat4 uMVMatrix;\n    uniform mat4 uPMatrix;\n    varying vec3 vPointCoord;\n    \n\n    void main(void) {\n      vPointCoord = aVertexPosition;\n      gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n    }\n    "}},{key:"getFragmentShader",value:function(){return["precision highp float;","uniform vec4 backColor;","uniform vec4 noiseColor;","uniform float frameIndex;","uniform float screenRate;","varying vec3 vPointCoord;","const float frameCount = 60.0;","const float pixels = 1200.0;","void main(void)","{","vec2 newPoint = vec2(dot(vPointCoord.x, pixels), dot(vPointCoord.y, pixels/screenRate)) ;","vec2 modValue = abs(mod(newPoint, frameCount));","if (step(frameIndex, modValue.x) == 1.0 && step(frameIndex, modValue.y) == 1.0) {","float rate = (frameIndex/2.0)/frameCount;","gl_FragColor = mix(backColor, noiseColor, rate);","} else {","gl_FragColor = noiseColor;","}","}"].join("\n")}},{key:"initProgram",value:function(){this.prg=u.makeProgram(this.getVetexShader(),this.getFragmentShader(),this.gl),this.prg.vertexPositionAttribute=this.gl.getAttribLocation(this.prg,"aVertexPosition"),this.prg.backColor=this.gl.getUniformLocation(this.prg,"backColor"),this.prg.frontColor=this.gl.getUniformLocation(this.prg,"noiseColor"),this.prg.frameIndex=this.gl.getUniformLocation(this.prg,"frameIndex"),this.prg.screenRate=this.gl.getUniformLocation(this.prg,"screenRate"),this.prg.pMatrixUniform=this.gl.getUniformLocation(this.prg,"uPMatrix"),this.prg.mvMatrixUniform=this.gl.getUniformLocation(this.prg,"uMVMatrix")}},{key:"createIndexBuffer",value:function(){var t=[-1,-1,0,-1,1,0,1,1,0,1,-1,0];this.indices=[0,1,2,0,2,3],this.vetexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vetexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW),this.indexBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.indices),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)}},{key:"renderLoop",value:function(){var t=this;this.drawStaticColor(),this.updateSpeed(),this.gl.uniform1f(this.prg.frameIndex,this.frameIndex),this.update(),this.frameIndex>=this.frameCount?this.animationHandler=null:this.animationHandler=requestAnimationFrame(function(){t.renderLoop()})}},{key:"updateSpeed",value:function(){this.frameIndex+=this.speed,this.frameIndex>this.frameCount&&(this.frameIndex=this.frameCount),this.speed-=this.accelerate,this.speed<.5&&(this.speed=.5)}},{key:"update",value:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.vetexBuffer),this.gl.vertexAttribPointer(this.prg.aVertexPosition,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.prg.vertexPositionAttribute),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.drawElements(this.gl.TRIANGLES,this.indices.length,this.gl.UNSIGNED_SHORT,0)}},{key:"verticesColorChanged",value:function(t){s(Object.getPrototypeOf(e.prototype),"verticesColorChanged",this).call(this,t),cancelAnimationFrame(this.animationHandler),this.reset(),this.renderLoop()}}]),e}(f.IColorChange);e.DotMatrixEffect=h},function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(t,e,r){for(var i=!0;i;){var n=t,o=e,a=r;s=u=l=void 0,i=!1,null===n&&(n=Function.prototype);var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return void 0;t=u,e=o,r=a,i=!0}},s=r(13),l=function(t){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return n(e,t),o(e,[{key:"reset",
value:function(){a(Object.getPrototypeOf(e.prototype),"reset",this).call(this),this.speed=.5,this.accelerate=.1,this.frameCount=100}},{key:"getFragmentShader",value:function(){return"\n    precision highp float;\n    uniform vec4 backColor;\n    uniform vec4 noiseColor;\n\n    uniform float frameIndex;\n    uniform float screenRate;\n\n    varying vec3 vPointCoord;\n\n    const float frameCount = 60.0;\n    const float pixels = 1200.0;\n    const float edge = 3.0;\n\n    vec4 calculateColor(vec2 modValue, float rate) {\n      if ( modValue.x >= edge || modValue.y >= edge) {\n        if (rate < 0.0) {\n          rate = 0.0;\n        }\n        return mix(backColor, noiseColor, rate);\n      }\n      else {\n        return noiseColor;\n      }\n    }\n\n    void main(void) {\n      vec2 newPoint = vec2(dot(vPointCoord.x, pixels), dot(vPointCoord.y, pixels/screenRate)) ;\n      float distance = frameCount-frameIndex;\n      vec2 modValue = abs(mod(newPoint, distance));\n      \n\n      float rate = (frameIndex-40.0) / frameCount;\n\n      if (distance > 20.0) {\n        gl_FragColor = calculateColor(modValue,rate);\n      }\n      else {\n        if (distance > 5.0) {\n          gl_FragColor = calculateColor(modValue,rate);\n        }\n        else {\n          gl_FragColor = mix(backColor, noiseColor, rate);\n        }\n      }\n    }\n    "}},{key:"updateSpeed",value:function(){this.frameIndex+=this.speed,this.frameIndex>this.frameCount&&(this.frameIndex=this.frameCount),this.speed+=this.accelerate,this.speed>1.8&&(this.speed=1.8)}}]),e}(s.DotMatrixEffect);e.DotMatrixEffect2=l}]);