import{_ as u,a0 as p,o as r,c as i,e as c,k as l,a as g,s as d,a1 as _,a2 as f,a3 as w,a4 as b,a5 as A,a6 as y,a7 as v,a8 as E,a9 as x,aa as $,d as P,u as C,j as T,y as L,ab as R,ac as V,ad as W,ae as j}from"./chunks/framework.492110cb.js";import{t as D}from"./chunks/theme.28cecea0.js";const G={name:"web-gpu",props:{autoLoad:!0},data(){return{error:"",loading:!0,showAlert:!1}},methods:{detectWebGPUThenLoad(){"navigator"in window&&"gpu"in navigator?navigator.gpu.requestAdapter().then(e=>{this.loadExample()}).catch(e=>{this.showAlert=!0}):this.showAlert=!0},async loadExample(){this.loading=!0;try{(await p(()=>import("./wasm/webgpu/webgl-vs-webgpu.js".replace("_","-")),[])).default().then(t=>{this.loading=!1},t=>{`${t}`.includes("don't mind me. This isn't actually an error!")?this.loading=!1:this.showErr(t)})}catch(e){this.showErr(e)}},showErr(e){this.error=`An error occurred loading "${this.example}": ${e}`,console.error(e),this.loading=!1,this.showAlert=!0}},async mounted(){this.detectWebGPUThenLoad()}},k={id:"webgpu-container"},O={key:0,style:{color:"#353535","margin-top":"20px"}},S=l("div",{style:{"line-height":"40px"}},"此浏览器版本不支持 WebGPU",-1),U=l("div",{style:{"font-size":"16px",color:"#999999"}},[g("请使用 Chrome/Microsoft Edge 113 及以上版本，或者 Chrome/Edge Canary, FireFox Nightly 并 "),l("span",null,[l("a",{href:"https://jinleili.github.io/learn-wgpu-zh/#如何开启浏览器-webgpu-试验功能",class:"a"},"开启 WebGPU 实验功能")])],-1),F=[S,U],M={key:1};function N(e,t,a,o,n,m){return r(),i("div",k,[n.showAlert?(r(),i("div",O,F)):c("",!0),n.loading?(r(),i("div",M," 正在加载 WASM 模块 ... ")):c("",!0)])}const B=u(G,[["render",N]]),I={name:"web-gl",props:{autoLoad:!0},data(){return{error:"",loading:!0}},methods:{async loadExample(){this.loading=!0;try{(await p(()=>import("./wasm/webgl/webgl-vs-webgpu.js".replace("_","-")),[])).default().then(t=>{this.loading=!1},t=>{`${t}`.includes("don't mind me. This isn't actually an error!")?this.loading=!1:this.showErr(t)})}catch(e){this.showErr(e)}},showErr(e){this.error=`An error occurred loading "${this.example}": ${e}`,console.error(e),this.loading=!1}},async mounted(){this.loadExample()}},z={id:"webgl-container"},q={key:0};function H(e,t,a,o,n,m){return r(),i("div",z,[n.loading?(r(),i("div",q," 正在加载 WASM 模块 ... ")):c("",!0)])}const J=u(I,[["render",H]]),K={...D,enhanceApp({app:e}){e.component("web-gpu",B),e.component("web-gl",J)}};function h(e){if(e.extends){const t=h(e.extends);return{...t,...e,async enhanceApp(a){t.enhanceApp&&await t.enhanceApp(a),e.enhanceApp&&await e.enhanceApp(a)}}}return e}const s=h(K),Q=P({name:"VitePressApp",setup(){const{site:e}=C();return T(()=>{L(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),R(),V(),W(),s.setup&&s.setup(),()=>j(s.Layout)}});async function X(){const e=Z(),t=Y();t.provide(f,e);const a=w(e.route);return t.provide(b,a),t.component("Content",A),t.component("ClientOnly",y),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),s.enhanceApp&&await s.enhanceApp({app:t,router:e,siteData:v}),{app:t,router:e,data:a}}function Y(){return E(Q)}function Z(){let e=d,t;return x(a=>{let o=$(a),n=null;return o&&(e&&(t=o),(e||t===o)&&(o=o.replace(/\.js$/,".lean.js")),n=p(()=>import(o),[])),d&&(e=!1),n},s.NotFound)}d&&X().then(({app:e,router:t,data:a})=>{t.go().then(()=>{_(t.route,a.site),e.mount("#app")})});export{X as createApp};
